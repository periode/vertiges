# todo

## post show

- [x] vibration (vibrations only work when the device is on, so it should be removed)
- [ ] timing of messages controlled by server
- [ ] localstorage + rideau
- [ ] tout orchestrable depuis téléphone du plateau
- [ ] bug sur la lecture des audios a distance -> résoudre par une addresse de _id=""_ de l'audio a jouer (plutot que le dernier de la liste)
- [ ] envoyer les messages du public sur l'écran de farid pour savoir ce qui est lu/envoyé quand (miroir)

- [ ] distribution
  - [x] remove the placeholder text
  - [x] finish the epilogue
  - [x] test android
  - [x] test iphone
  - [x] add a link to user support and privacy policy on main page
  - [x] fix height of buttons on ios (from 75vh to 70vh)  ([platform specific css/js](https://riptutorial.com/cordova/example/24744/create-css-js-specific-to-a-platform--android-ios-))
  - [x] fix playback line on ios (-> added -webkit-calc)
    - [ ] check the weird behaviour with timestamps (sometimes starts at the beginning, sometimes at the middle)
  - [x] fix questions display as white (disabled mode?) -> set the bg color
  - [x] check the server reply issue?
  - [x] fix the unshift issue when adding a reply -> temporarily setting overflow-hidden
  - [x] fix no scroll
- [x] app
  - [x] audio messages
    - [x] auto playback
      - [x] __this implies an initial user event__
    - [x] audio histogram -> représentation du temps
    - [x] sse kill audio
    - [x] audio messages can happen as messages and as replies
  - [x] photos
  - [x] make typing status
    - [x] animation
  - [x] add time on every message
  - [x] add vibrate on receive
  - [x] fix CSS property for playback
  - [x] opening view
  - [x] end of the performance
    - [x] localStorage to store state
  - [x] reconnect logic
- [x] app publishing
  - [x] fix the minimum API level issue on android
- [x] setup server
  - [ ] end the response if total_clients == 0
  - [x] deployed on remote server (caddyfile must have a `flush_interval -1`)
  - [x] setup server sent events (after getting a specific http request, the server sends back SSEs)
    - [x] basic events
    - [x] set up timing
    - [x] send response
    - [x] setup proper logs
    - [x] setup header auth
    - [x] fix the res.write after end error (-> try catch)
  - [x] setup orchestrator page
    - [x] fix the clearInterval issue
    - [x] feature to send messages
    - [x] view voting results
      - [x] make the start/end poll button only one button
      - [x] automatically choose next sequence based on voting results
    - [x] view current sequence (starts on page init)
    - [x] reset voting results
    - [x] store a trace of each states
      - [x] save trace to disk
    - [x] display all possible messages to be sent
  - [x] setup performer page
    - [x] only display the winning vote
  - [x] have homepage on vertiges
    - [x] password for régie